/**
 * Form Styles - React-Based Component System
 * Modern, component-based form styling
 */

@import 'variables';
@import 'mixins';

// ============================================
//   FORM CONTAINER COMPONENT
// ============================================
.form-container,
.form-wrapper {
	width: 100%;
	max-width: 100%;
	margin: 0;
	padding: 0;
	display: flex;
	flex-direction: column;
	gap: $spacing-lg;
}

// ============================================
//   FORM SECTION COMPONENT
// ============================================
.form-section {
	background: $bg-white;
	@include border-radius($border-radius-md);
	@include border;
	padding: $spacing-2xl;
	margin-bottom: $spacing-xl;
	display: flex;
	flex-direction: column;
	gap: $spacing-lg;

	.section-title {
		font-size: $font-size-lg;
		font-weight: $font-weight-semibold;
		color: $text-primary;
		margin: 0 0 $spacing-md 0;
		padding-bottom: $spacing-md;
		@include border-bottom;
	}
}

// ============================================
//   FORM GROUP COMPONENT
// ============================================
.form-group,
.control-group,
.form-field {
	display: flex;
	flex-direction: column;
	gap: $spacing-xs;
	margin-bottom: $spacing-lg;
	width: 100%;

	&.form-group-inline {
		flex-direction: row;
		align-items: center;
		gap: $spacing-md;
	}

	&.form-group-row {
		flex-direction: row;
		align-items: flex-start;
		gap: $spacing-md;
	}
}

// ============================================
//   FORM LABEL COMPONENT
// ============================================
.form-label,
.control-label,
.label {
	font-weight: $font-weight-medium;
	color: $text-secondary;
	font-size: $font-size-sm;
	margin-bottom: $spacing-xs;
	display: block;
	line-height: $line-height-normal;

	&.required::after {
		content: ' *';
		color: $error;
		font-weight: $font-weight-bold;
	}

	&.label-inline {
		margin-bottom: 0;
		margin-right: $spacing-md;
		min-width: 120px;
		flex-shrink: 0;
	}
}

// ============================================
//   FORM INPUT COMPONENT
// ============================================
.form-control,
.control-input,
.input,
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="tel"],
input[type="url"],
input[type="search"],
input[type="date"],
input[type="datetime-local"],
input[type="time"],
input[type="month"],
input[type="week"] {
	@include input-base(40px, 10px 14px);
	width: 100%;
	font-size: $font-size-md;
	color: $text-primary;
	background: $bg-white;
	@include border($border-width, $border-dark);
	@include border-radius;
	@include transition;

	&::placeholder {
		color: $text-gray;
		opacity: 1;
		font-style: normal;
	}

	&:hover:not(:disabled):not(:read-only) {
		@include input-hover;
		border-color: $text-gray;
	}

	&:focus {
		@include input-focus;
		border-color: $primary;
	}

	&:disabled,
	&[readonly] {
		background: $bg-gray-light;
		color: $text-muted;
		cursor: not-allowed;
		opacity: 0.7;
	}

	&.input-sm {
		@include input-base(32px, 6px 10px);
		font-size: $font-size-sm;
	}

	&.input-lg {
		@include input-base(48px, 12px 16px);
		font-size: $font-size-lg;
	}

	&.input-error {
		border-color: $error;

		&:focus {
			@include focus-ring(rgba(239, 68, 68, 0.2));
			border-color: $error;
		}
	}

	&.input-success {
		border-color: $success;

		&:focus {
			@include focus-ring(rgba(16, 185, 129, 0.2));
			border-color: $success;
		}
	}
}

// ============================================
//   TEXTAREA COMPONENT
// ============================================
textarea,
textarea.form-control,
textarea.input {
	@include input-base(auto, 10px 14px);
	min-height: 100px;
	resize: vertical;
	font-family: inherit;
	line-height: $line-height-relaxed;

	&.textarea-sm {
		min-height: 80px;
		padding: 8px 12px;
		font-size: $font-size-sm;
	}

	&.textarea-lg {
		min-height: 150px;
		padding: 12px 16px;
		font-size: $font-size-md;
	}
}

// ============================================
//   SELECT COMPONENT
// ============================================
select,
select.form-control,
select.input {
	@include input-base(40px, 10px 14px);
	cursor: pointer;
	appearance: none;
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23374151' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
	background-repeat: no-repeat;
	background-position: right 12px center;
	background-size: 12px;
	padding-right: 36px;

	&:disabled {
		background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%239ca3af' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
	}

	&.select-sm {
		@include input-base(32px, 6px 30px 6px 10px);
		font-size: $font-size-sm;
		background-size: 10px;
		background-position: right 10px center;
	}

	&.select-lg {
		@include input-base(48px, 12px 40px 12px 16px);
		font-size: $font-size-lg;
		background-size: 14px;
		background-position: right 14px center;
	}
}

// ============================================
//   CHECKBOX COMPONENT (React-Style)
// ============================================
.checkbox,
input[type="checkbox"] {
	width: 18px;
	height: 18px;
	min-width: 18px;
	min-height: 18px;
	margin: 0;
	cursor: pointer;
	appearance: none;
	@include border($border-width-2, $border-dark);
	@include border-radius($border-radius-sm);
	background: $bg-white;
	position: relative;
	@include transition(all, $transition-fast);
	flex-shrink: 0;

	&:hover:not(:disabled) {
		border-color: $primary;
		@include shadow(sm);
	}

	&:checked {
		background: $primary;
		border-color: $primary;

		&::after {
			content: '';
			position: absolute;
			left: 5px;
			top: 2px;
			width: 5px;
			height: 9px;
			border: solid $bg-white;
			border-width: 0 2px 2px 0;
			transform: rotate(45deg);
		}
	}

	&:focus {
		@include focus-ring(rgba(102, 126, 234, 0.2));
	}

	&:disabled {
		opacity: 0.5;
		cursor: not-allowed;
		background: $bg-gray-light;
	}

	&.checkbox-sm {
		width: 16px;
		height: 16px;
		min-width: 16px;
		min-height: 16px;

		&:checked::after {
			left: 4px;
			top: 1px;
			width: 4px;
			height: 8px;
		}
	}

	&.checkbox-lg {
		width: 20px;
		height: 20px;
		min-width: 20px;
		min-height: 20px;

		&:checked::after {
			left: 6px;
			top: 3px;
			width: 6px;
			height: 10px;
		}
	}
}

.checkbox-group,
.checkbox-wrapper {
	@include flex-center($spacing-xs);
	gap: $spacing-xs;
	cursor: pointer;
	user-select: none;

	label {
		margin: 0;
		cursor: pointer;
		font-weight: $font-weight-normal;
		color: $text-secondary;
		font-size: $font-size-md;
	}

	&:hover label {
		color: $text-primary;
	}
}

// ============================================
//   RADIO COMPONENT (React-Style)
// ============================================
.radio,
input[type="radio"] {
	width: 18px;
	height: 18px;
	min-width: 18px;
	min-height: 18px;
	margin: 0;
	cursor: pointer;
	appearance: none;
	@include border($border-width-2, $border-dark);
	border-radius: 50%;
	background: $bg-white;
	position: relative;
	@include transition(all, $transition-fast);
	flex-shrink: 0;

	&:hover:not(:disabled) {
		border-color: $primary;
		@include shadow(sm);
	}

	&:checked {
		border-color: $primary;

		&::after {
			content: '';
			position: absolute;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			width: 8px;
			height: 8px;
			border-radius: 50%;
			background: $primary;
		}
	}

	&:focus {
		@include focus-ring(rgba(102, 126, 234, 0.2));
	}

	&:disabled {
		opacity: 0.5;
		cursor: not-allowed;
		background: $bg-gray-light;
	}
}

.radio-group,
.radio-wrapper {
	@include flex-center($spacing-xs);
	gap: $spacing-xs;
	cursor: pointer;
	user-select: none;

	label {
		margin: 0;
		cursor: pointer;
		font-weight: $font-weight-normal;
		color: $text-secondary;
		font-size: $font-size-md;
	}

	&:hover label {
		color: $text-primary;
	}
}

// ============================================
//   SWITCH/TOGGLE COMPONENT (React-Style)
// ============================================
.switch,
.toggle {
	position: relative;
	display: inline-block;
	width: 44px;
	height: 24px;
	margin: 0;
	cursor: pointer;

	input[type="checkbox"] {
		opacity: 0;
		width: 0;
		height: 0;
		position: absolute;
	}

	.slider {
		position: absolute;
		cursor: pointer;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: $border-dark;
		@include transition(all, $transition-base);
		border-radius: 24px;

		&::before {
			position: absolute;
			content: '';
			height: 18px;
			width: 18px;
			left: 3px;
			bottom: 3px;
			background: $bg-white;
			@include transition(all, $transition-base);
			border-radius: 50%;
			@include shadow(sm);
		}
	}

	input:checked + .slider {
		background: $primary;

		&::before {
			transform: translateX(20px);
		}
	}

	input:focus + .slider {
		@include focus-ring(rgba(102, 126, 234, 0.2));
	}

	input:disabled + .slider {
		opacity: 0.5;
		cursor: not-allowed;
	}

	&.switch-sm {
		width: 36px;
		height: 20px;

		.slider::before {
			height: 14px;
			width: 14px;
		}

		input:checked + .slider::before {
			transform: translateX(16px);
		}
	}
}

// ============================================
//   INPUT GROUP COMPONENT
// ============================================
.input-group {
	display: flex;
	width: 100%;
	@include border($border-width, $border-dark);
	@include border-radius;
	overflow: hidden;
	background: $bg-white;

	.input-group-prepend,
	.input-group-append {
		@include flex-center;
		padding: 0 $spacing-md;
		background: $bg-gray;
		@include border-right;
		color: $text-secondary;
		font-size: $font-size-md;
		flex-shrink: 0;
	}

	.input-group-append {
		@include border-right(none);
		@include border-left;
	}

	.form-control,
	.input {
		border: none;
		border-radius: 0;
		box-shadow: none;

		&:focus {
			box-shadow: none;
			border: none;
		}
	}

	&:focus-within {
		@include border($border-width-2, $primary);
		@include focus-ring(rgba(102, 126, 234, 0.2));
	}
}

// ============================================
//   FILE UPLOAD COMPONENT
// ============================================
.file-upload,
.file-input-wrapper {
	position: relative;
	display: inline-block;
	cursor: pointer;
	width: 100%;

	input[type="file"] {
		position: absolute;
		width: 0;
		height: 0;
		opacity: 0;
		overflow: hidden;
		z-index: -1;
	}

	.file-upload-label {
		@include flex-center;
		padding: $spacing-lg;
		border: 2px dashed $border-dark;
		@include border-radius;
		background: $bg-gray;
		color: $text-secondary;
		cursor: pointer;
		@include transition;
		text-align: center;
		min-height: 120px;
		flex-direction: column;
		gap: $spacing-sm;

		&:hover {
			border-color: $primary;
			background: $bg-gray-light;
			color: $text-primary;
		}

		.file-upload-icon {
			font-size: 32px;
			opacity: 0.6;
		}

		.file-upload-text {
			font-size: $font-size-sm;
			font-weight: $font-weight-medium;
		}
	}
}

// ============================================
//   FORM VALIDATION STATES
// ============================================
.form-feedback {
	font-size: $font-size-sm;
	margin-top: $spacing-xs;
	display: flex;
	align-items: center;
	gap: $spacing-xs;

	&.feedback-error {
		color: $error;
	}

	&.feedback-success {
		color: $success;
	}

	&.feedback-warning {
		color: $warning;
	}

	&.feedback-info {
		color: $info;
	}
}

// ============================================
//   FORM HELP TEXT
// ============================================
.form-help,
.help-text {
	font-size: $font-size-xs;
	color: $text-muted;
	margin-top: $spacing-xs;
	line-height: $line-height-normal;
}

// ============================================
//   SELECT2 STYLES (Enhanced)
// ============================================
.select2-container {
	.select2-selection--single {
		height: 40px;
		@include border($border-width, $border-dark);
		@include border-radius;
		background: $bg-white;
		@include transition;

		.select2-selection__rendered {
			line-height: 40px;
			padding: 0 $spacing-md;
			color: $text-primary;
		}

		.select2-selection__arrow {
			height: 38px;
			right: $spacing-md;
		}
	}

	&.select2-container--focus .select2-selection--single,
	&.select2-container--open .select2-selection--single {
		@include border($border-width-2, $primary);
		@include focus-ring(rgba(102, 126, 234, 0.2));
	}
}

.select2-container--default {
	.select2-results__option {
		padding: $spacing-sm $spacing-md;
		@include transition;

		&--highlighted {
			background: $primary;
			color: $bg-white;
		}

		&[aria-selected="true"] {
			background: $bg-gray-light;
		}
	}
}

.select2-dropdown {
	@include border;
	@include border-radius;
	@include shadow(lg);
	margin-top: 4px;
	background: $bg-white;
}

// ============================================
//   FILTER INPUTS
// ============================================
.filter-bar,
.list-filters-bar {
	input[type="text"],
	input[type="search"] {
		width: 100%;
		padding: $spacing-sm $spacing-md;
		@include border;
		@include border-radius;
		font-size: $font-size-base;
		background: $bg-white;
		color: $text-primary;

		&:focus {
			outline: none;
			border-color: $primary;
			box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
		}

		&::placeholder {
			color: $text-gray;
		}
	}

	select {
		padding: $spacing-sm $spacing-md;
		@include border;
		@include border-radius;
		font-size: $font-size-base;
		background: $bg-white;
		color: $text-primary;
		cursor: pointer;

		&:focus {
			outline: none;
			border-color: $primary;
			box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
		}
	}
}

// ============================================
//   FORM ROW/GRID LAYOUT
// ============================================
.form-row {
	display: flex;
	flex-wrap: wrap;
	gap: $spacing-lg;
	width: 100%;

	.form-group {
		flex: 1 1 auto;
		min-width: 200px;
		margin-bottom: 0;
	}

	.form-group-full {
		flex: 1 1 100%;
	}

	.form-group-half {
		flex: 1 1 calc(50% - #{$spacing-lg / 2});
	}

	.form-group-third {
		flex: 1 1 calc(33.333% - #{$spacing-lg * 2 / 3});
	}

	.form-group-quarter {
		flex: 1 1 calc(25% - #{$spacing-lg * 3 / 4});
	}
}

// ============================================
//   RESPONSIVE FORMS
// ============================================
@media (max-width: 768px) {
	.form-row {
		flex-direction: column;

		.form-group {
			min-width: 100%;
		}

		.form-group-half,
		.form-group-third,
		.form-group-quarter {
			flex: 1 1 100%;
		}
	}
}



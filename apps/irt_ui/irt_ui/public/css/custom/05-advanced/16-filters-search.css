/**
 * Unified Search & Filters
 * - Single-row layout for search + buttons
 * - Hides duplicate default inputs
 * - Fixes dropdowns and pagination
 */

/* ============================================================
   1. HIDE DUPLICATE SEARCH / DEFAULT FILTERS
   ============================================================ */

/* Hide plain input form-groups (keep unified search + buttons) */
.standard-filter-section .form-group:has(.input-with-feedback):not(:has(.unified-search-input, .unified-search-wrapper, .btn-group, .filter-button, .sort-selector, button)),
.page-form .form-group:has(.input-with-feedback):not(:has(.unified-search-input, .unified-search-wrapper, .btn-group, .filter-button, .sort-selector, button)) {
	display: none !important;
}

/* Hide rows that would create extra lines */
.page-form > .row:not(:has(.unified-search-wrapper, .filter-section, .btn-group, .filter-button, .sort-selector)) {
	display: none !important;
}

/* ============================================================
   2. LAYOUT - SINGLE ROW
   ============================================================ */

/* Page form - single row layout */
.page-form {
	display: flex !important;
	flex-direction: row !important;
	align-items: center !important;
	gap: 10px !important;
	flex-wrap: nowrap !important;
	width: 100% !important;
}

/* Standard filter section */
.standard-filter-section {
	display: flex !important;
	flex-direction: row !important;
	align-items: center !important;
	gap: 10px !important;
	flex-wrap: nowrap !important;
	flex: 0 0 auto !important;
}

/* Filter section - single row */
.page-form .filter-section,
.filter-section {
	display: flex !important;
	flex-direction: row !important;
	align-items: center !important;
	gap: 10px !important;
	width: 100% !important;
	flex: 1 1 auto !important;
	flex-wrap: nowrap !important;
	justify-content: flex-start !important;
	min-height: 34px !important;
	overflow: visible !important;
	z-index: 10 !important;
}

/* ============================================================
   3. UNIFIED SEARCH FIELD
   ============================================================ */

/* Search wrapper */
.unified-search-wrapper {
	display: flex !important;
	position: relative !important;
	flex: 1 1 auto !important;
	height: 34px !important;
	margin: 0 !important;
	min-width: 200px !important;
	z-index: 5 !important;
}

/* Ensure visibility */
.filter-section .unified-search-wrapper,
.list-filter-area .unified-search-wrapper,
.page-form .unified-search-wrapper,
.standard-filter-section .unified-search-wrapper {
	display: flex !important;
	visibility: visible !important;
	opacity: 1 !important;
}

/* Inner form group */
.unified-search-wrapper .unified-search-group,
.unified-search-wrapper .form-group {
	display: flex !important;
	width: 100% !important;
	position: relative !important;
	margin: 0 !important;
}

/* Input field */
.unified-search-input {
	display: block !important;
	width: 100% !important;
	height: 100% !important;
	padding-left: 36px !important;
	padding-right: 10px !important;
	border-radius: 4px !important;
	border: 1px solid var(--color-border-light) !important;
	background: var(--color-bg-white) !important;
	visibility: visible !important;
	opacity: 1 !important;
}

/* Search icon */
.unified-search-icon {
	position: absolute !important;
	left: 10px !important;
	top: 50% !important;
	transform: translateY(calc(-50% - 3px)) !important;
	pointer-events: none !important;
	width: 16px !important;
	height: 16px !important;
	color: var(--color-text-tertiary) !important;
	z-index: 6 !important;
}

/* Clear button - always hidden */
.unified-search-clear {
	display: none !important;
	visibility: hidden !important;
	opacity: 0 !important;
	pointer-events: none !important;
}

/* ============================================================
   4. BUTTONS POSITIONING
   ============================================================ */

/* Search at start */
.filter-section .unified-search-wrapper {
	order: 0 !important;
	margin-right: 10px !important;
}

/* Buttons to the right */
.filter-section .btn-group,
.filter-section .btn,
.filter-section button,
.filter-section .sort-selector,
.filter-section .filter-button {
	order: 1 !important;
	flex: 0 0 auto !important;
	display: inline-flex !important;
	align-items: center !important;
	visibility: visible !important;
	opacity: 1 !important;
	white-space: nowrap !important;
	max-width: none !important;
}

/* Push filter/sort controls to right end */
.filter-section .filter-selector,
.filter-section .filter-button,
.filter-section .sort-selector,
.filter-section .btn-group:not(.unified-search-wrapper):not(.unified-search-group),
.filter-section button[data-label="Filter"],
.filter-section button[data-original-title*="Filter"],
.filter-section button[title*="Filter"],
.filter-section button[data-original-title*="Sort"],
.filter-section button[title*="Sort"],
.filter-section button[data-original-title*="Last Updated"],
.filter-section button[title*="Last Updated"] {
	margin-left: auto !important;
	margin-right: 0 !important;
}

/* Spacing between buttons */
.filter-section .filter-selector + .sort-selector,
.filter-section .filter-selector + .btn-group,
.filter-section .btn-group + .sort-selector,
.filter-section .btn-group + .btn-group,
.filter-section .sort-selector + .btn-group,
.filter-section .sort-selector + .sort-selector,
.filter-section .filter-button + .sort-selector,
.filter-section .filter-button + .btn-group {
	margin-left: 6px !important;
}

/* ============================================================
   5. DROPDOWNS
   ============================================================ */

.filter-section .btn-group,
.filter-section .btn,
.sort-selector,
.sort-selector button,
.filter-button,
.page-form .btn-group,
.page-form .sort-selector {
	position: relative !important;
	z-index: 1002 !important;
	pointer-events: auto !important;
	overflow: visible !important;
	display: inline-flex !important;
}

/* Dropdown items */
.dropdown-menu .dropdown-item {
	padding: 8px 12px !important;
	cursor: pointer !important;
}

/* ============================================================
   6. PAGINATION
   ============================================================ */

.list-paging-area {
	display: flex !important;
	flex-direction: row !important;
	flex-wrap: nowrap !important;
	justify-content: space-between !important;
	align-items: center !important;
	width: 100% !important;
	padding: 10px 15px !important;
	background-color: var(--color-bg-white) !important;
	border-top: 1px solid var(--color-border-light) !important;
	position: sticky !important;
	bottom: 0 !important;
	z-index: 100 !important;
	height: 60px !important;
}

.list-paging-area .level-left {
	display: flex !important;
	flex: 1 !important;
	justify-content: flex-start !important;
	align-items: center !important;
}

.list-paging-area .level-right {
	display: flex !important;
	flex: 1 !important;
	justify-content: flex-end !important;
	align-items: center !important;
	gap: 10px !important;
}

.list-more-btn,
button[data-label="Load More"] {
	display: inline-flex !important;
	position: static !important;
	transform: none !important;
	margin-left: 10px !important;
	z-index: 101 !important;
}

.list-paging-area .text-muted {
	color: var(--text-color) !important;
	display: inline-block !important;
}

/* ============================================================
   7. DESK PAGE HIDE
   ============================================================ */

.desk-page .unified-search-wrapper {
	display: none !important;
}

/* ============================================================
   8. RESPONSIVE
   ============================================================ */

@media (max-width: 768px) {
	.page-form,
	.page-form .filter-section,
	.filter-section {
		flex-wrap: wrap !important;
		white-space: normal !important;
	}

	.unified-search-wrapper {
		order: 0 !important;
		width: 100% !important;
		margin-bottom: 10px !important;
	}

	.filter-section .btn-group,
	.filter-section .btn,
	.filter-section button,
	.filter-section .sort-selector,
	.filter-section .filter-button {
		order: 1 !important;
	}

	.list-paging-area {
		flex-direction: column !important;
		height: auto !important;
		gap: 10px !important;
	}

	.list-paging-area .level-left,
	.list-paging-area .level-right {
		justify-content: center !important;
	}

	.list-more-btn,
	button[data-label="Load More"] {
		width: 100% !important;
	}
}

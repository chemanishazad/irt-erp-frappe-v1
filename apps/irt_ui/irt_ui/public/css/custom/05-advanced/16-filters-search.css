/**
 * Unified Search & Filters - LAYOUT FIX
 * Fixes search bar alignment/sizing and dropdown functionality
 */

/* ============================================================
   1. HIDE DUPLICATE SEARCH / DEFAULT FILTERS
   ============================================================ */

/* Hide form-groups that contain standard inputs but NOT the unified search */
.page-form .form-group:has(.input-with-feedback):not(:has(.unified-search-input)),
.standard-filter-section .form-group:has(.input-with-feedback):not(:has(.unified-search-input)) {
	display: none !important;
}

/* Hide the columns containing these form groups */
.page-form .col-md-2:has(.input-with-feedback):not(:has(.unified-search-input)) {
	display: none !important;
}

/* ============================================================
   2. SEARCH BAR LAYOUT (Single Line, Full Width)
   ============================================================ */

/* Ensure the filter section is a flex row */
.page-form .filter-section {
	display: flex !important;
	flex-direction: row !important;
	align-items: center !important;
	gap: 10px !important;
	width: 100% !important;
	flex-wrap: nowrap !important;
	/* Prevent wrapping */
}

/* Search wrapper takes available space */
.unified-search-wrapper {
	display: flex !important;
	flex: 1 1 auto !important;
	/* Grow to fill space */
	position: relative !important;
	margin: 0 !important;
	height: 34px !important;
	z-index: 5 !important;
}

/* Input styling */
.unified-search-input {
	width: 100% !important;
	height: 100% !important;
	padding-left: 36px !important;
	/* Space for icon */
	padding-right: 10px !important;
	border-radius: 4px !important;
	border: 1px solid var(--color-border-light) !important;
	background: var(--color-bg-white) !important;
}

/* Icon positioning */
.unified-search-icon {
	position: absolute !important;
	left: 10px !important;
	top: 50% !important;
	transform: translateY(-50%) !important;
	z-index: 6 !important;
	pointer-events: none !important;
	width: 16px !important;
	height: 16px !important;
}

/* Buttons should not shrink */
.filter-section .btn-group,
.filter-section .btn,
.sort-selector {
	flex: 0 0 auto !important;
	/* Don't shrink */
}

/* ============================================================
   3. FIX DROPDOWNS (Functionality)
   ============================================================ */

/* Ensure buttons are clickable */
.filter-section .btn-group,
.sort-selector {
	position: relative !important;
	z-index: 10 !important;
}

/* Ensure overflow allows dropdowns to show */
.list-filter-area,
.filter-section {
	overflow: visible !important;
}

/* ============================================================
   4. FIX PAGINATION (Bottom Bar)
   ============================================================ */

.list-paging-area {
	display: flex !important;
	flex-direction: row !important;
	flex-wrap: nowrap !important;
	justify-content: space-between !important;
	align-items: center !important;
	width: 100% !important;
	padding: 10px 15px !important;
	background-color: var(--color-bg-white) !important;
	border-top: 1px solid var(--color-border-light) !important;
	position: sticky !important;
	bottom: 0 !important;
	z-index: 100 !important;
	height: 50px !important;
}

.list-paging-area .level-left {
	display: flex !important;
	flex: 1 !important;
	justify-content: flex-start !important;
}

.list-paging-area .level-right {
	display: flex !important;
	flex: 1 !important;
	justify-content: flex-end !important;
	align-items: center !important;
	gap: 10px !important;
	margin-right: 120px !important;
}

/* Load More button */
.list-more-btn,
button[data-label="Load More"] {
	display: inline-flex !important;
	position: absolute !important;
	right: 15px !important;
	top: 50% !important;
	transform: translateY(-50%) !important;
	margin: 0 !important;
	z-index: 101 !important;
}

/* ============================================================
   5. DESK PAGE HIDE
   ============================================================ */
.desk-page .unified-search-wrapper {
	display: none !important;
}

/* ============================================================
   6. RESPONSIVE
   ============================================================ */
@media (max-width: 768px) {
	.page-form .filter-section {
		flex-wrap: wrap !important;
	}

	.unified-search-wrapper {
		width: 100% !important;
		order: 1 !important;
		margin-bottom: 10px !important;
	}

	.list-paging-area {
		flex-direction: column !important;
		height: auto !important;
		gap: 10px !important;
	}

	button[data-label="Load More"] {
		position: static !important;
		transform: none !important;
		width: 100% !important;
	}
}

/**
 * Unified Search & Filters - FINAL POLISH
 * Smart dropdown alignment and pagination layout
 */

/* ============================================================
   1. HIDE DUPLICATE SEARCH / DEFAULT FILTERS
   ============================================================ */

/* ‚ùó FIXED: removed `.list-row-filters,` so Desk list filters are NOT hidden */
.standard-filter-section .form-group:not(:has(.unified-search-wrapper)),
.page-form .form-group:not(:has(.unified-search-wrapper)) {
	display: none !important;
}

.page-form .row:has(.input-with-feedback):not(:has(.unified-search-wrapper)) {
	display: none !important;
}

/* Unified Search Visibility */
.unified-search-wrapper {
	display: flex !important;
	visibility: visible !important;
	opacity: 1 !important;
	width: 100% !important;
	position: relative !important;
	z-index: 1 !important;
}

.unified-search-input {
	width: 100% !important;
}

/* ============================================================
   2. FIX DROPDOWNS (Smart Alignment)
   ============================================================ */

/* Make buttons clickable and reference points */
.filter-section .btn-group,
.filter-section .btn,
.sort-selector,
.sort-selector button,
.filter-button {
	position: relative !important;
	z-index: 1002 !important;
	pointer-events: auto !important;
	overflow: visible !important;
}

.filter-section,
.list-filter-area {
	overflow: visible !important;
	z-index: 10 !important;
}

/*
   FORCE LEFT ALIGNMENT FOR ALL DROPDOWNS
   This ensures the menu starts at the left edge of the button
   and extends to the right, fixing the "coming left side" issue.
*/


/* Dropdown Item Styling */
.dropdown-menu .dropdown-item {
	padding: 8px 12px !important;
	cursor: pointer !important;
}

/* ============================================================
   3. FIX PAGINATION (Bottom Bar)
   ============================================================ */

.list-paging-area {
	display: flex !important;
	flex-direction: row !important;
	flex-wrap: nowrap !important;
	justify-content: space-between !important;
	align-items: center !important;
	width: 100% !important;
	padding: 10px 15px !important;
	background-color: var(--color-bg-white) !important;
	border-top: 1px solid var(--color-border-light) !important;
	position: sticky !important;
	bottom: 0 !important;
	z-index: 100 !important;
	height: 60px !important;
}

.list-paging-area .level-left {
	display: flex !important;
	flex: 1 !important;
	justify-content: flex-start !important;
	align-items: center !important;
}

.list-paging-area .level-right {
	display: flex !important;
	flex: 1 !important;
	justify-content: flex-end !important;
	align-items: center !important;
	gap: 10px !important;
}

/* Load More Button */
.list-more-btn,
button[data-label="Load More"] {
	display: inline-flex !important;
	position: static !important;
	transform: none !important;
	margin-left: 10px !important;
	z-index: 101 !important;
}

.list-paging-area .text-muted {
	color: var(--text-color) !important;
	display: inline-block !important;
}

/* ============================================================
   4. DESK PAGE HIDE
   ============================================================ */
.desk-page .unified-search-wrapper {
	display: none !important;
}

/* ============================================================
   5. RESPONSIVE
   ============================================================ */
@media (max-width: 768px) {
	.list-paging-area {
		flex-direction: column !important;
		height: auto !important;
		gap: 10px !important;
	}

	.list-paging-area .level-left,
	.list-paging-area .level-right {
		justify-content: center !important;
	}

	.list-more-btn {
		width: 100% !important;
	}
}